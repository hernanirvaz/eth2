#!/bin/bash

i="\n\e[5m"
f="\e[25m\n"

p0='/home/eth'
p1='/etc/prometheus'
p4='/var/log/syslog'
p8='/etc/systemd/system'
p5="$p0/geth.log"
p2="$p0/beacon.log"
p3="$p0/bmedias.log"
p7="$p0/barqivo.log"
p9="$p0/beacon.restart.inicio"

w0='systemctl'
w1="$w0 status"
w2="$w0 stop"
w3="$w0 start"
w4="$w0 enable"
w5="$w0 disable"

meeu="$(whoami)"
cunm="$(uname -n)"
cust="$(uname -n|cut -c1-3)"
ethg='eth-geth'
ethb='eth-beacon'
ethv='eth-validator'
ethp='prometheus'
ethn='prometheus-node-exporter'
ethf='grafana-server'
plex='plexmediaserver'
trrt='transmission-daemon'
dnsd='named'
zip1='192.168.8.25'
zip2='192.168.8.28'
zip3='192.168.8.31'
znm1='hrv-zotac1'
znm2='hrv-zotac2'
znm3='hrv-zotac3'
vip1='207.180.214.8'
vip2='173.249.42.190'
vip3='164.68.107.45'
vnm1='vmi471826.contaboserver.net'
vnm2='vmi506976.contaboserver.net'
vnm3='vmi469069.contaboserver.net'
dtdi="/var/lib/lighthouse"
becn="$dtdi/beacon"
vldt="$dtdi/validators"
bpid=$($w1 $ethb 2>/dev/null|grep PID|sed 's%.*PID: *\([0-9]*\).*%\1%')

rblk=22238623
ratt=00019000
pmis=00010000
pmat=00018800
pmah=00004500
pdly=00000500
decp=1000000000

hors=24
rate=4000
if [[ $cust = hrv ]];then cgth=$zip1;else cgth=$vip1;fi
[[ $rate -eq 0 ]] && rate=$(curl -sX GET 'https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest?symbol=ETH&convert=EUR&CMC_PRO_API_KEY=3ae5f3df-bd71-489d-a9dd-b626995fba31'|sed 's%.*price.:\([0-9]*\.[0-9]*\).*%\1%')
